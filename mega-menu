>>> This code has been purchased. Do not distribute or use outside of The Squad client sites.

HOW TO USE:
1. Create not-linked page that will be a mega menu
  - Name the Page "Menu Item Name - Mega Menu"
  - Make the URL Slug "Menu Item Name"
2. Create a Folder in the Main Navigation for every mega menu page
  - Name the Folder "Menu Item Name"
  - Make the URL "Menu Item Name - mega"
3. Add mobile fall back links in the main navigation under each folder
4. Add new not-linked page, titled "JS Files"
  - Link the JS File Contents to the text to upload to site


<style>
/* --- Start: Launch Hub Studio - Mega Menu --- */
@megaMenu__DesktopBackgroundColor: var(--darkest-color);
@megaMenu__MobileMenuRegularLinks: 8vmin;
@megaMenu__MobileMenuHeaders: 9.5vmin;
@megaMenu__MobileMenuHeadersColor: var(--medium-color);
@megaMenu__MobileMenuSubLinks: 6.5vmin;
@megaMenu__MobileMenuGroupSpacing: 30px;
@megaMenu__MobileMenuHeadersTextTransform: initial;

/* DON'T EDIT BELOW THIS LINE */
.mega-nav-dropdown a:focus {text-decoration: underline;}.header-nav-folder-title:after {content: "\25be";display: inline-block;margin-left: 2px }.mega-nav-dropdown a {display: initial;}.mega-nav-dropdown .section-background, .mega-nav-dropdown .content-wrapper, .mega-nav-dropdown {background: @megaMenu__DesktopBackgroundColor !important;}.header-menu-nav-folder-content hr {width: 86%;margin: @megaMenu__MobileMenuGroupSpacing 5px;opacity: 0;}.mega-nav-dropdown a, .mega-nav-dropdown p {line-height: 1.2 }.header-nav-item--folder.open .header-nav-folder-title:after {transform: rotate(-180deg) }.mobileMegaMenuHeader > a {font-weight: 600 !important;color: @megaMenu__MobileMenuHeadersColor !important;text-transform: @megaMenu__MobileMenuHeadersTextTransform;}.header-menu-nav-item a {font-size: @megaMenu__MobileMenuRegularLinks }.mobileMegaMenuHeader a {font-size: @megaMenu__MobileMenuHeaders !important }.mobileMegaMenuSublink > a {font-size: @megaMenu__MobileMenuSubLinks !important;font-weight: 200 !important }.mega-nav-dropdown a {background-image: none !important;}@media screen and (max-width:800px) {.page-section.mega-nav-dropdown[data-mega-href] {display: none !important }}.header-nav-folder-content:focus-within, .mega-nav-dropdown:focus-within {opacity: 1 !important;display: block !important;visibility: visible !important }.mega-nav-dropdown {z-index: -1;opacity: 0;top: auto;overflow: auto;overflow-x: hidden;box-shadow: #000 0px 9px 25px -16px;text-align: initial;width: 100%;max-width: 100%;max-height: 0;max-width: 0;display: block;}.mega-nav-dropdown.fullWidth {left: 50%;transform: translateX(-50%);position: absolute !important;}body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnClick .mega-nav-dropdown {pointer-events: none;transition: opacity .1s linear 0s, visibility .1s linear 0s, z-index .1s linear 0s, max-height 0s linear .55s, max-width 0s linear .55s;-webkit-transition: opacity .1s linear 0s, visibility .1s linear 0s, z-index .1s linear 0s, max-height 0s linear .55s, max-width 0s linear .55s;-moz-transition: opacity .1s linear 0s, visibility .1s linear 0s, z-index .1s linear 0s, max-height 0s linear .55s, max-width 0s linear .55s;}body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover .header-nav-folder-content, body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover .mega-nav-dropdown {transition: opacity 0s linear .35s, visibility 0s linear .35s, z-index 0s linear .35s, max-height 0s linear .35s, max-width 0s linear .35s;-moz-transition: opacity 0s linear .35s, visibility 0s linear .35s, z-index 0s linear .35s, max-height 0s linear .35s, max-width 0s linear .35s;-webkit-transition: opacity 0s linear .35s, visibility 0s linear .35s, z-index 0s linear .35s, max-height 0s linear .35s, max-width 0s linear .35s;visibility: hidden;}.header-nav .header-nav-item--folder .header-nav-folder-content {z-index: -1 }body:not(.sqs-edit-mode-active) .header-nav .header-nav-item--folder.appearOnHover .header-nav-folder-content {pointer-events: all !important }body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover:hover .header-nav-folder-content, body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover:hover .mega-nav-dropdown {transition: opacity .1s linear .35s, visibility .1s linear .35s, z-index .1s linear .35s, max-height 0s linear .35s, max-width 0s linear .35s !important;-webkit-transition: opacity .1s linear .35s, visibility .1s linear .35s, z-index .1s linear .35s, max-height 0s linear .35s, max-width 0s linear .35s !important;-moz-transition: opacity .1s linear .35s, visibility .1s linear .35s, z-index .1s linear .35s, max-height 0s linear .35s, max-width 0s linear .35s !important;z-index: 10;visibility: visible;max-width: 150% !important;}body:not(.sqs-edit-mode-active) .page-section[data-mega-href] .section-background {position: absolute;height: 100% !important }body.sqs-edit-mode-active .page-section.mega-nav-dropdown[data-mega-href] {position: initial !important;display: none }.mega-nav-dropdown:hover, body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover, body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover:hover .mega-nav-dropdown {transition: opacity .1s linear .35s, visibility .1s linear .35s, z-index .1s linear .35s, max-height 0s linear .55s, max-width 0s linear .55s;-moz-transition: opacity .1s linear .35s, visibility .1s linear .35s, z-index .1s linear .35s, max-height 0s linear .55s, max-width 0s linear .55s;-webkit-transition: opacity .1s linear .35s, visibility .1s linear .35s, z-index .1s linear .35s, max-height 0s linear .55s, max-width 0s linear .55s;z-index: 10;opacity: 1;pointer-events: auto;}.header-nav-item > a {position: relative;z-index: 0;background-image: linear-gradient(currentColor,currentColor);background-repeat: repeat-x;background-size: 0px 0px;background-position: 0 100%;background-position: 0 calc(100% - 0.1em);}.header-nav-item[data-mega-href] > a:before {content: "";position: absolute;top: 100%;left: 50%;height: 100px;width: 100%;background: transparent;transform: translateX(-50%);z-index: 0;opacity: 0;visibility: hidden;transition: opacity .4s linear .35s, visibility 0s linear .35s;-moz-transition: opacity .4s linear .35s, visibility 0s linear .35s;-webkit-transition: opacity .4s linear .35s, visibility 0s linear .35s }.header-nav-item {z-index: 10 }.header-nav-item:hover > a, .header-nav-item.open > a {background-size: 3px 3px !important;}.header-nav-item.appearOnHover:hover > a:before {opacity: 1;visibility: visible;transition: opacity .4s linear .35s, visibility 0s linear .35s;-moz-transition: opacity .4s linear .35s, visibility 0s linear .35s;-webkit-transition: opacity .4s linear .35s, visibility 0s linear .35s }.header-nav-item.header-nav-item--folder.appearOnClick:hover .header-nav-folder-content {opacity: 0;pointer-events: none !important }.header-nav-item.header-nav-item--folder.appearOnClick .header-nav-folder-content {opacity: 0;pointer-events: none;transition: opacity .1s linear 0s, visibility .1s linear 0s, z-index .1s linear 0s, max-height 0s linear 0s, max-width 0s linear 0s;-moz-transition: opacity .1s linear 0s, visibility .1s linear 0s, z-index .1s linear 0s, max-height 0s linear 0s, max-width 0s linear 0s;-webkit-transition: opacity .1s linear 0s, visibility .1s linear 0s, z-index .1s linear 0s, max-height 0s linear 0s, max-width 0s linear 0s;}.header-nav-folder-content.showDropdown, .mega-nav-dropdown.hover {opacity: 1 !important;pointer-events: auto !important;visibility: visible !important;max-width: 150% !important;z-index: 10 !important;}.mega-nav-dropdown.hover, body:not(.sqs-edit-mode-active) .header-nav-item--folder.appearOnHover:hover .mega-nav-dropdown {max-height: 75vh;}.mega-nav-dropdown.hover {transition-delay: 0s !important;-webkit-transition-delay: 0s !important;-moz-transition-delay: 0s !important;}.header-nav-folder-content.showDropdown .header-nav-folder-item {pointer-events: auto }a[href="javascript:void(0)"] {cursor: default }.header-nav-item--folder.appearOnHover:not([data-mega-href]):hover, .header-nav-item--folder:not([data-mega-href]).open {z-index: 20 !important;}.header-nav-item--folder.appearOnClick:not([data-mega-href]) {transition: z-index .1s;-moz-transition: z-index .1s;-webkit-transition: z-index .1s;}@media (min-width:799px) {.header-nav-item--folder:not(.preloaded) *, .no-transition, .no-transition * {-webkit-transition: none !important;-moz-transition: none !important;-ms-transition: none !important;-o-transition: none !important }}.header-nav-list {touch-action: manipulation;}.mega-nav-dropdown .preFade, .mega-nav-dropdown .preScale, .mega-nav-dropdown .preSlide, .mega-nav-dropdown .preClip, .mega-nav-dropdown .preFlex {opacity: 1 !important;}.header-nav .header-nav-item--folder[data-mega-href] {position: initial;}
/* --- End: Launch Hub Studio - Mega Menu --- */
</style>

<!-- Start: Launch Hub Studio - Mega Menu -->
<script>
  var megaMenuOptions = {
    appearOn: "hover", 
    shouldHeadersHaveLinks: false 
  };
</script>
<script src="/s/mega_menu.js"></script>
<!-- End: Launch Hub Studio - Mega Menu -->

---
JS FILE CONTENTS
document.addEventListener("DOMContentLoaded", function () { try { function e(e) { e.style.top = "calc(100% + " + getComputedStyle(document.querySelector(".header-announcement-bar-wrapper")).paddingBottom + ")", e.style.width = window.innerWidth + "px" } overrideLazyLoadMega = function (e) { var t = e.querySelectorAll("img"), r = t.length; for (let n = 0; n < r; n++) { let a = t[n]; a.classList.add("loaded"), ImageLoader.load(a, { load: !0, fill: !0 }) } }, document.querySelector("#header"); var t = document.querySelectorAll(".header-nav-item--folder"); let r = document.querySelectorAll(".header-display-desktop .header-nav-folder-title"); setBackgroundHeight = function (e) { e.querySelector(".section-background").style.height = getComputedStyle(e.querySelector(".content-wrapper")).height + " !important" }; var n, a, l = []; n = window.location.pathname, a = [], r.forEach(function (t, r) { var o = t, d = o.closest(".header-nav-item"); o.setAttribute("tabindex", "0"), o.setAttribute("role", "button"), o.setAttribute("aria-expanded", "false"), o.setAttribute("aria-haspopup", "true"); var i = o.getAttribute("href"), s = i.substring(0, i.indexOf("-mega")), c = "menu_" + r; o.nextElementSibling.setAttribute("id", c), o.setAttribute("aria-controls", c), null != megaMenuOptions && void 0 != megaMenuOptions ? "click" != megaMenuOptions.appearOn ? d.classList.add("appearOnHover") : "click" == megaMenuOptions.appearOn && d.classList.add("appearOnClick") : d.classList.add("appearOnHover"), d.querySelectorAll(".header-nav-folder-item > a").forEach(function (e, t) { e.innerHTML.trim().includes("- Header") && (e.innerHTML = e.innerHTML.substring(0, e.innerHTML.indexOf("- Header"))) }), i.endsWith("-mega") && n != s && null == document.querySelector(".header-nav-folder-title[href='" + n + "-mega']") ? (a[r] = new XMLHttpRequest, a[r].onload = function () { var t = this.responseText, r = document.createElement("div"); r.innerHTML = t; var n = r.querySelector("article section.page-section"); let a = document.createElement("div"); a.innerHTML = n.innerHTML, a.setAttribute("class", n.getAttribute("class")), (n = a).classList.add("mega-nav-dropdown"), n.setAttribute("data-mega-href", s), n.setAttribute("id", c), n.style.backgroundColor = getComputedStyle(document.querySelector(".header-nav-folder-content")).backgroundColor, n.querySelector(".content-wrapper").style.backgroundColor = getComputedStyle(document.querySelector(".header-nav-folder-content")).backgroundColor, n.querySelector(".section-background").style.backgroundColor = getComputedStyle(document.querySelector(".header-nav-folder-content")).backgroundColor, o.setAttribute("aria-controls", c), n.classList.add("fullWidth"), o.nextElementSibling.remove(), d.appendChild(n), window.Squarespace.initializeLayoutBlocks(Y, Y.one("#" + c)), overrideLazyLoadMega(n), l.push(n), e(n), o.setAttribute("data-mega-href", s), d.setAttribute("data-mega-href", s), setTimeout(function () { d.classList.add("preloaded") }, 100) }, a[r].open("GET", s, !0), a[r].send()) : i.endsWith("-mega") || n == s || (o.nextElementSibling.setAttribute("id", c), o.setAttribute("aria-controls", c), setTimeout(function () { d.classList.add("preloaded") }, 100)) }), window.addEventListener("resize", function () { this.setTimeout(function () { l.forEach(function (t) { e(t) }) }, 500) }); var o = document.querySelector("body"); o.addEventListener("click", function (r) { if (null != r.target.closest(".sqs-announcement-bar-dropzone") && l.forEach(function (t) { e(t) }), !1 == Array.from(o.classList).includes("sqs-edit-mode-active") && "click" == megaMenuOptions.appearOn) for (let n = 0; n < t.length; n++) { var a = t[n]; null == a.querySelector(".mega-nav-dropdown.hover") && null == a.querySelector(".header-nav-folder-content.showDropdown") || void 0 != r.target.closest(".mega-nav-dropdown") || void 0 != r.target.closest("[data-mega-href]") || void 0 != r.target.closest(".header-nav-item--folder") || Array.from(r.target.classList).includes("header-nav-folder-content") || void 0 != r.target.closest(".header-nav-folder-content") || closeAllMenus() } }); var d = function (e, t, r) { var n = []; for (e = e.nextElementSibling; e && !e.matches(t);) { if (r && !e.matches(r)) { e = e.nextElementSibling; continue } n.push(e), e = e.nextElementSibling } return n }; (addMegaMobileStyles = function () { let e = document.querySelectorAll(".header-menu-nav-folder:not([data-folder='root']) .header-menu-nav-item > a", "#header"), t = e.length; for (let r = 0; r < t; r++) { let n = e[r]; n.innerHTML.trim().includes("- Header") && (n.setAttribute("data-href", n.getAttribute("href")), void 0 != megaMenuOptions.shouldHeadersHaveLinks && !1 == megaMenuOptions.shouldHeadersHaveLinks && (n.style.pointerEvents = "none", n.setAttribute("aria-label", "Menu grouping header")), n.innerHTML = n.innerHTML.substring(0, n.innerHTML.indexOf("- Header")), n.closest(".header-menu-nav-item").classList.add("mobileMegaMenuHeader")) } let a = document.querySelectorAll(".mobileMegaMenuHeader"), l = a.length, o = document.querySelectorAll(".header-menu-nav-folder:not([data-folder='root']) .header-menu-nav-folder-content"); for (let i = 0; i < o.length; i++) { var s = o[i], c = s.querySelectorAll(".mobileMegaMenuHeader"); for (let u = 0; u < c.length; u++) { let f = c[u]; if (0 != u) { var v = document.createElement("hr"); v.setAttribute("style", ""), f.previousElementSibling.after(v) } } } for (let h = 0; h < l; h++) { var s = a[h], m = d(s, "hr"); for (let p = 0; p < m.length; p++)m[p].classList.add("mobileMegaMenuSublink") } })(); for (let i = 0; i < r.length; i++) { var s = r[i]; s.addEventListener("click", function (e) { e.stopImmediatePropagation(), e.preventDefault(); let t = e.currentTarget.closest(".header-nav-item"); null == e.target.closest(".mega-nav-dropdown") && null == e.target.closest(".header-nav-folder-item") && null != t.querySelector(".header-nav-folder-content") && ("click" == megaMenuOptions.appearOn || 0 == e.detail || -1 == e.pointerId || 1 != e.mozInputSource && void 0 != e.mozInputSource) ? Array.from(t.querySelector(".header-nav-folder-content").classList).includes("showDropdown") ? closeAllMenus() : (closeAllMenus(), t.querySelector(".header-nav-folder-content").classList.add("showDropdown"), t.querySelector(".header-nav-folder-title").setAttribute("aria-expanded", "true"), t.querySelector(".header-nav-folder-title").classList.add("open"), t.classList.add("open")) : null == e.target.closest(".mega-nav-dropdown") && null == e.target.closest(".header-nav-folder-item") && null == t.querySelector(".header-nav-folder-content") && ("click" == megaMenuOptions.appearOn || 0 == e.detail || -1 == e.pointerId || 1 != e.mozInputSource && void 0 != e.mozInputSource) && (Array.from(e.target.classList).includes("open") ? closeAllMenus() : (closeAllMenus(), t.querySelector(".mega-nav-dropdown").classList.add("hover"), t.querySelector(".header-nav-folder-title").setAttribute("aria-expanded", "true"), t.querySelector(".header-nav-folder-title").classList.add("open"), t.classList.add("open"))), 0 == e.detail || -1 == e.pointerId || 1 != e.mozInputSource && void 0 != e.mozInputSource ? t.classList.add("no-transition") : t.classList.remove("no-transition") }), s.addEventListener("mouseenter", function (e) { e.target.closest(".header-nav-item").classList.remove("no-transition") }) } var c = document.querySelectorAll(".header-display-desktop .header-nav-folder-title"), u = document.querySelectorAll(".header-nav-folder-content"); function f(e) { for (var t = e, r = []; t;)r.unshift(t), t = t.parentNode; return "none" == getComputedStyle(e).display || r.filter(function (e) { return void 0 != e.style && "none" == getComputedStyle(e).display }).length > 0 } closeAllMenus = function () { for (let e = 0; e < l.length; e++)l[e].classList.remove("hover"); for (let t = 0; t < c.length; t++)c[t].setAttribute("aria-expanded", "false"), c[t].classList.remove("open"), c[t].closest(".header-nav-item").classList.remove("open"); for (let r = 0; r < u.length; r++)u[r].classList.remove("showDropdown") }; let v = {}; onKeyDownMegaMenu = function () { document.addEventListener("keydown", function (e) { v[event.key] = !0; var t = function e(t = document) { return [...t.querySelectorAll('a[href], area[href], button, input:not([disabled]), textarea, select, details, iframe, [tabindex]:not([tabindex="-1"])')].filter(e => !e.hasAttribute("disabled") && !e.getAttribute("aria-hidden")) }(), r = !1, n = document.activeElement, a = Array.from(n.classList), l = n.closest(".header-nav-item--folder"); if (null != l) var o = l.querySelector(".header-nav-folder-title"), d = Array.from(o.classList); else var o = null; switch (e.key) { case " ": a.includes("header-nav-folder-title") && (n.click(), r = !0); break; case "Tab": if (v.Shift || e.shiftKey) { s = n, ((null != s.closest(".mega-nav-dropdown") ? s == Array.from(s.closest(".mega-nav-dropdown").querySelectorAll("a")).shift() : null != s.closest(".header-nav-folder-content") ? s == Array.from(s.closest(".header-nav-folder-content").querySelectorAll("a")).shift() : void 0) || a.includes("header-nav-folder-title")) && closeAllMenus(); var i, s, c = Array.from(t).indexOf(document.activeElement); for (let u = c - 1; u >= 0; u--)if (!f(t[u]) && null == t[u].closest(".header-menu-nav")) { (null != t[u].closest(".mega-nav-dropdown") || null != t[u].closest(".header-nav-folder-content")) && null == document.querySelector(".header-nav-folder-title.open") && (t[u].closest(".header-nav-item").querySelector(".header-nav-folder-title").focus(), r = !0); break } } else if (null != n && a.includes("header-nav-folder-title") && !a.includes("open")) { if (null != n.parentNode.nextElementSibling) n.parentNode.nextElementSibling.querySelector("a").focus(); else { var c = Array.from(t).indexOf(document.activeElement); for (let h = c + 1; h < t.length; h++)if (!f(t[h]) && null == t[h].closest(".header-menu-nav") && null == t[h].closest(".header-nav-list")) { "IFRAME" == t[h].nodeName ? setTimeout(function () { t[h].focus() }, 100) : t[h].focus(), closeAllMenus(); break } } r = !0 } else null != n && !a.includes("header-nav-folder-title") && (i = n, null != i.closest(".mega-nav-dropdown") ? i == Array.from(i.closest(".mega-nav-dropdown").querySelectorAll("a")).pop() : null != i.closest(".header-nav-folder-content") ? i == Array.from(i.closest(".header-nav-folder-content").querySelectorAll("a")).pop() : void 0) && d.includes("open") && closeAllMenus(); break; case "Esc": case "Escape": !1 == Array.from(document.querySelector("body").classList).includes("sqs-edit-mode-active") && null != document.querySelector(".header-nav-folder-title.open") && (document.querySelector(".header-nav-folder-title.open").focus(), closeAllMenus(), r = !0) }r && !1 == Array.from(document.querySelector("body").classList).includes("sqs-edit-mode-active") && (e.preventDefault(), e.stopImmediatePropagation()) }) }, onkeyUpMegaMenu = function () { document.addEventListener("keyup", e => { delete v[e.key] }) }, onKeyDownMegaMenu(), onkeyUpMegaMenu(), setTimeout(function () { t.forEach(function (e, t) { e.classList.add("preloaded") }) }, 400); var h = window.scrollY; window.addEventListener("scroll", function () { Math.abs(window.scrollY - h) > 150 && (h = window.scrollY) }) } catch (m) { console.log(m) } });
